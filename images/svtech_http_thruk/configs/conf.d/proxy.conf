<Location "/report">
        RequestHeader set Host "http://icinga2-report/report"
        ProxyPass "http://icinga2-report:8888" connectiontimeout=600 timeout=600 Keepalive=On
</Location>

#BEGIN Proxy for Grafana
<Location "/grafana">
#        AuthType Basic
#        AuthName GrafanaAuthProxy
#        AuthBasicProvider file
#        AuthUserFile /etc/thruk/htpasswd
#        Require valid-user

        RewriteEngine On
        RewriteRule .* - [E=PROXY_USER:%{LA-U:REMOTE_USER},NS]
        RequestHeader set X-WEBAUTH-USER "%{PROXY_USER}e"

        RequestHeader unset Authorization

        ProxyPass "http://grafana:3000"
        ProxyPassReverse "http://grafana:3000"
</Location>
#END Proxy for Grafan Proxy

#BEGIN grafana send_request to icinga2-report (button)
<Location "/grafana/send_request">
        ProxyPass "http://icinga2-report:8888"
        ProxyPassReverse "http://icinga2-report:8888"
</Location>
#END grafana send_request to icinga2-report (button)

<Location "/rundeck">
        ProxyPass http://rundeck:4440/rundeck
        ProxyPassReverse http://rundeck:4440/rundeck
</Location>

#BEGIN Csv To HTML Table
<Location "/csv">
        ProxyPass "http://csv-view:8000"
        ProxyPassReverse "http://csv-view:8000"
</Location>
#END Csv To HTML Table

#BEGIN Upgrade Switchover Confirmation
<Location "/switchover_upgrade">
        RequestHeader set Host "http://rundeck-option-provider/switchover_upgrade"
        ProxyPass "http://rundeck-option-provider:1111"
</Location>
#END Upgrade Switchover Confirmation

#BEGIN proxy for Nagvis Map
<Location "/nagvis">
        ProxyPass http://nagvis/nagvis
        ProxyPassReverse http://nagvis/nagvis
</Location>
#END proxy for Nagvis Map
